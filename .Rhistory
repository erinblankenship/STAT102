install.packages("SASmarkdown")
library(SASmarkdown)
#| eval: true
#| include: false
quarto::render("syllabus-fall-2025.qmd", output_dir="docs/")
#| eval: true
#| include: false
quarto::quarto_render("syllabus-fall-2025.qmd", output_dir="docs/")
#| eval: true
#| include: false
quarto::quarto_render("syllabus-fall-2025.qmd")
#| eval: true
#| include: false
quarto::quarto_render(input="syllabus-fall-2025.qmd")
#| eval: true
#| include: false
quarto::quarto_render(input="syllabus fall 2025.qmd")
#| eval: true
#| include: false
quarto::quarto_render(input="syllabus fall 2025.qmd")
file.copy("syllabus fall 2025.html","docs/")
file.copy("syllabus-fall-2025.pdf","docs/")
file.copy("syllabus fall 2025_files","docs/")
file.copy("syllabus fall 2025_files","docs/",recursive=TRUE)
git remote add origin https://github.com/erinblankenship/STAT102.git
echo "# STAT102" >> README.md
git remote add origin https://github.com/erinblankenship/STAT102.git
#RANDOMIZATION TEST#
#Load the Mosaic package, which includes the tally and shuffle functions#;
library(mosaic)
malaria <- matrix(c(89, 106, 203, 41),ncol=2,byrow=TRUE)
colnames(malaria) <- c("MalVacc", "CntlVacc")
rownames(malaria) <- c("Mal","NoMal")
malaria <- as.table(malaria)
malaria
#Calculate the proportion of simulated differences in proportion as or more extreme than obs#
prop(~diffmean <= observed, data=malaria.null)
library(ggplot2)
ggplot(data=malaria.null) + geom_histogram(mapping=aes(x=diffmean)) +
xlab("Difference in proportions") +
geom_vline(xintercept = observed, linetype=2, color="blue")
malaria.null<-do(1000)*diffmean(Response == "Malaria" ~ shuffle(Treatment),data=malariadf)
VM<-data.frame(Treatment="Vaccine",Response="Malaria",obs=1:89)
head(VM)
VN<-data.frame(Treatment="Vaccine",Response="NoMal",obs=1:203)
CM<-data.frame(Treatment="Control",Response="Malaria",obs=1:106)
CN<-data.frame(Treatment="Control",Response="NoMal",obs=1:41)
malariadf<-rbind(VM,VN,CM,CN)
head(malariadf)
observed<-diffmean(Response == "Malaria" ~ Treatment, data=malariadf)
observed
malaria.null<-do(1000)*diffmean(Response == "Malaria" ~ shuffle(Treatment),data=malariadf)
head(malaria.null)
library(ggplot2)
ggplot(data=malaria.null) + geom_histogram(mapping=aes(x=diffmean)) +
xlab("Difference in proportions") +
geom_vline(xintercept = observed, linetype=2, color="blue")
prop(~diffmean <= observed, data=malaria.null)
VM<-data.frame(Treatment="Vaccine",Response="Malaria",obs=1:89)
head(VM)
VN<-data.frame(Treatment="Vaccine",Response="NoMal",obs=1:203)
CM<-data.frame(Treatment="Control",Response="Malaria",obs=1:106)
CN<-data.frame(Treatment="Control",Response="NoMal",obs=1:41)
malariadf<-rbind(VM,VN,CM,CN)
head(malariadf)
observed<-diffmean(Response == "Malaria" ~ Treatment, data=malariadf)
observed
malaria.null<-do(1000)*diffmean(Response == "Malaria" ~ shuffle(Treatment),data=malariadf)
head(malaria.null)
library(ggplot2)
ggplot(data=malaria.null) + geom_histogram(mapping=aes(x=diffmean)) +
xlab("Difference in proportions") +
geom_vline(xintercept = observed, linetype=2, color="blue")
getwd()
data_baby<-c(rep(1,14),rep(0,2))
obs_prop<-mean(data_baby)
obs_prop
para_boot<-c(rep(1,8),rep(0,8))
para_boot
numsim<-100
boot.sample<-data.frame(sim=1:numsim,stat=NA)
head(boot.sample)
for(i in 1:numsim){
boot.sample$stat[i]<-mean(sample(para_boot,size=16,replace=TRUE))
}
head(boot.sample)
library(ggplot2)
boot.hist<-ggplot(boot.sample, aes(stat)) + geom_histogram(bins=10)
boot.hist
count<-(boot.sample$stat >= obs_prop)
sum(count)
sum(count)/numsim
#| include: false
library(openintro)
normTail(m=0,s=1,U=2.79)
pvalue<-1-pnorm(2.79,mean=0,sd=1)
pvalue
qnorm(0.05,mean=0,sd=1)
VM<-data.frame(Treatment="Vaccine",Response="Malaria",obs=1:89)
head(VM)
VN<-data.frame(Treatment="Vaccine",Response="NoMal",obs=1:203)
CM<-data.frame(Treatment="Control",Response="Malaria",obs=1:106)
CN<-data.frame(Treatment="Control",Response="NoMal",obs=1:41)
malariadf<-rbind(VM,VN,CM,CN)
head(malariadf)
#| include: false
library(mosaic)
observed<-diffmean(Response == "Malaria" ~ Treatment, data=malariadf)
observed
malaria.null<-do(1000)*diffmean(Response == "Malaria" ~ shuffle(Treatment),data=malariadf)
head(malaria.null)
library(ggplot2)
ggplot(data=malaria.null) + geom_histogram(mapping=aes(x=diffmean)) +
xlab("Difference in proportions") +
geom_vline(xintercept = observed, linetype=2, color="blue")
prop(~diffmean <= observed, data=malaria.null)
#original Sample 1 data (Electrical), creating a data set with 10 S (1) and 10 F (0)#
electrical<-c(rep(1,10),rep(0,10))
#original Sample 2 data (Control), creating a data set with 6 S (1) and 14 F (0)#
control<-c(rep(1,6),rep(0,14))
#Calculate and print the observed statistic, p-hat_E - p-hat_C#
obs_stat<-mean(electrical)-mean(control)
obs_stat
#Set up an empty data set with 4 columns: sim number, p_hat_boot_E, p_hat_boot_C, diff#
boot.samples<-data.frame(sim=1:1000,stat_E=NA,stat_C=NA, diff=NA)
head(boot.samples)
#For each row in the data set, draw a bootstrap sample from Sample 1 and Sample 2 and find#
# p_hat_boot_E and p_hat_boot_C #
for(i in 1:1000){
boot.samples$stat_E[i]<-mean(sample(electrical,size=20,replace=TRUE))
boot.samples$stat_C[i]<-mean(sample(control,size=20,replace=TRUE))
}
head(boot.samples)
#Now find the differences#
boot.samples$diff<-boot.samples$stat_E - boot.samples$stat_C
head(boot.samples)
boot.hist<-ggplot(boot.samples, aes(diff)) + geom_histogram(binwidth=0.05)
boot.hist
#start by ranking the bootstrap differences from smallest to largest #
rankdiff<-sort(boot.samples$diff)
#Print out just the first few#
head(rankdiff)
#Lower endpoint is the 5th percentile (90% confidence)#
lower<-rankdiff[50]
lower
#Upper endpoint is the 950th percentile (90% confidence)#
upper<-rankdiff[950]
upper
SE<-sd(rankdiff)
SE
#| include: false
library(openintro)
normTail(m=0,s=1,L=-5.15, U=5.15)
pnorm(-5.15,mean=0,sd=1)+(1-pnorm(5.15,mean=0,sd=1))
pchisq(6.1971,df=2,lower.tail=FALSE)
surveymode<-read.csv("surveymode.csv",header=TRUE)
#make a table#
mode<-table(surveymode$Response,surveymode$Mode)
#see the table, note alphabetical order#
mode
#Chi-square mathematical model test#
chisq.test(mode)
#Chi-square randomization test#
chisq.test(mode,simulate.p.value=TRUE, B=1000)
